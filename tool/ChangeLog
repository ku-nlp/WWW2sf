2010-02-04  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2sf.sh: bug fixed.（領域情報を埋め込んだ際、オリジナルのファイルからオフセットを取得するように）

2010-02-03  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm:
	link_bufの内容が追加される際、propertyデータを書き込むように.

2010-01-19  Tomohide Shibata  <shibata@reed.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl, scripts/extract-rawstring.perl, perl/AddKNPResult.pm:
	指定されたBlocktypeのみを解析対象とするオプションを追加

	* scripts/embed-region-info.perl, html2sf.sh:
	DetectBlocks.pm の高速化に対応.

2010-01-12  Tomohide Shibata  <shibata@reed.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl, perl/AddKNPResult.pm:
	KNP解析結果のキャッシュをひくオプションを追加

	* perl/AddKNPResult.pm:
	syngraphオプションが与えられた時のみ、require SynGraphするように

2010-01-07  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl:
	verbose指定時に読み今度HTML文書を表示するように.

	* perl/TextExtractor.pm:
	<title>タグの要素を改行の連続で区切らないようにした.

2010-01-05  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-rawstring.perl:
	特定のsidの文のみを抽出するオプションを追加

	* perl/AddKNPResult.pm:
	usemoduleオプションが指定されたときのみ、オブジェクトをnewするように変更

2009-12-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl:
	エラーを出力したファイルのIDを出力するように.

2009-12-15  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm: ルビ問題に対応.

	* scripts/embed-region-info.perl: DetectBlocks2からDetectBlocksに変更

2009-12-01  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-rawstring.perl:
	rawstringの空白を削除するオプションを追加

2009-11-23  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl:
	replaceオプションを廃止して、remove_annotationオプションを追加

	* perl/AddKNPResult.pm:
	replaceオプションを廃止して、remove_annotationオプションと共通に

2009-11-22  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/AddKNPResult.pm: caseオプション指定時も通常のKNPをnewするように.

2009-11-17  Daisuke Kawahara  <kawahara@reed.kuee.kyoto-u.ac.jp>

	* README: Updated the description of necessary modules.

	* html2sf.sh: Added an English mode.

	* perl/AddKNPResult.pm, scripts/add-knp-result.perl:
	Added conll scheme.

	* scripts/parse-english.sh, scripts/add-sid-conll.perl, scripts/lemmatize-conll.perl, scripts/tagger-out2conll.perl:
	added.

2009-11-09  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2sf.sh, www2sf.sh:
	file コマンドによるフィルタをオプション化（-Fオプションで有効）

2009-10-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/Makefile: コメントを追加.

	* conf/configure: option4embed_annotation のデフォルト値を変更.

	* conf/configure: 変数の追加.

	* scripts/Makefile: torque で利用する場合のコードを追加.

	* scripts/make-standard-format.sh:
	configure ファイル内で指定された値を利用するように (www2sf.sh のオプション, 複合名詞DB の場所).

	* scripts/embed-region-info.perl: -juman オプションの追加.

	* scripts/embed-annotation.sh:
	作業領域として configure 内の $workspace4embed で指定されたディレクトリを利用するように.

	* conf/configure: 変数の追加.

	* scripts/add-knp-result.perl, scripts/add-knp-result-dir.perl:
	JUMAN, KNP, SynGraph オブジェクトの作成を AddKNPResult に任せた, th_of_knp_use オプションの追加.

	* perl/AddKNPResult.pm:
	JUMAN, KNP, SynGraph オブジェクトの作成を行うように.

2009-10-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/make-standard-format.sh:
	出力結果を特定のホストにコピーするように.

	* scripts/Makefile: 解析結果を埋め込む処理を追加.

2009-10-04  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/format-www-xml.perl: XML宣言以前のデータは読み込まないように.

	* scripts/extract-sentences.perl: 領域判定の結果を出力するように.

	* perl/TextExtractor.pm: 領域判定結果を保持するように.

	* html2sf.sh, www2sf.sh: 領域の判定結果を埋め込むオプション -T を追加.

2009-10-02  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl: URLの末尾が\r,\n,\r\nの場合に対応.

	* scripts/extract-sentences.perl:
	標準フォーマットにアウトリンク情報を埋め込まないようにした（リンク情報は別管理になったため）

2009-09-14  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/sample-for-sf-access.perl: small change.

2009-08-26  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* conf/configure: bug fixed (unameのオプションを修正)

2009-08-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-annotation.sh: rmコマンドに-fオプションを追加.

2009-08-10  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-annotation.sh:
	../conf/configureを読み込むように, 実行前にsleepさせるオプションの追加, 出力結果をコピーするオプションの追加.

2009-06-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-url4ntcir3.perl: small change.

2009-06-19  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl: bug fixed.

2009-06-16  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm, scripts/set-offset-and-length.perl:
	&#160;を半角空白に変換するように.

2009-06-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl: HTMLエンティティの誤表記に対応.

	* perl/SentenceExtractor.pm:
	bug fixed (丸括弧で囲まれた文の扱いを修正)

2009-06-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.perl:
	NW*.dataファイルに対応, 文字コードの推定に失敗した時にエラーを出力するように.

	* perl/HtmlGuessEncoding.pm:
	METAタグで指定される文字コードのバリエーションを追加, 文字コードが曖昧な時の処理を追加.

2009-05-29  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl:
	文書IDとして999999999を出力するように.

	* www2sf.perl:
	utf8オプションの追加. 文書IDとして999999999を出力するように.

	* scripts/add-knp-result-dir.perl, scripts/add-knp-result.perl:
	URL中のHTMLエンティティを変換しないように (標準フォーマット生成時に変換されているため)

2009-05-25  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl: NOCACHE, NOINDEX情報を埋め込むように.

2009-04-21  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.perl: タイムアウト機能の追加, try ... catch の場所を変更.

2009-04-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.perl:
	TextExtractor.pmが出力するエラーを例外としてキャッチするように.

	* www2sf.perl: URL内の制御コードを削除するように.

	* www2sf.perl:
	-linenumオプションの追加, XML生成時に不適切な文字が出力されてもおちないように, utf8形式のHTMLファイルが出力されるように.

	* perl/Archiver.pm: テキストファイルかどうかのチェック方法を修正.

2009-04-19  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/Emoticon.pm:
	Emoticon.dicのパスを指定するように, 複数回newされた時、EmoticonDicのエントリが複数回decodeされないように.

2009-04-14  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-linkinfo.sh:
	インリンク，アウトリンクの文書IDを埋め込むように変更.

	* scripts/embed-linkinfo.perl:
	インリンク, アウトリンクの文書IDを埋め込むオプションの追加 (url2did)

	* scripts/extract-anchor.perl:
	文書セット内にないURLについては, 文書IDとして999999999を出力するように.

2009-04-13  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/AddKNPResult.pm: RawString内の改行を削除.

2009-04-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-linkinfo.perl:
	インリンクだけの標準フォーマットを作成するオプションの追加, インリンク情報を出力する際、XML::Writerを通すように.

2009-04-10  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl: &を&amp;に変換する条件を修正.

	* www2sf.sh:
	解析ツール名のオプションを指定すると、それ以前に指定していたオプションがリセットされるバグを修正.

2009-04-09  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.sh: アウトリンクのデータが$hdir.outlinksに出力されうように.

	* html2sf.sh:
	入力ファイルの行数が5000行を超える場合は怪しいファイルとみなすように.

	* perl/TextExtractor.pm:
	最初に<TITLE>タグで囲まれた表現をタイトルとするように.

2009-04-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm:
	アンカーテキストに対して, 空白処理, 制御コード処理を適用するように, アンカーテキスト前後の空白を削除.

	* scripts/add-knp-result-dir.perl, scripts/add-knp-result.perl:
	格解析オプション(case)の追加, 警告メッセージの出力を変更.

	* perl/AddKNPResult.pm:
	格解析を行うオプションに対応.

2009-04-07  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl: postp_checkを高速化.

	* perl/SentenceExtractor.pm:
	文境界を正規表現を使って検出するように, 正規表現内の変数の再評価を行わないように(oの指定)

	* perl/SentenceExtractor.pm:
	bug fixed. (「.」を文区切りとするかどうかの判定ルールを修正)

	* perl/TextExtractor.pm:
	デリミタと顔文字のマッチングにdartsのメソッドを利用するように, 正規表現内の変数の再評価を行わないように(oの指定).

	* perl/Annotator.pm:
	区切り文字, 顔文字のデータをText::Dartsで持つようにした.

2009-04-04  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/format-www.perl:
	Modified S-ID checking.

	* scripts/sentence-splitter.perl: added.

2009-03-26  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/extract-rawstring.perl:
	Added --title option to extract also a title.

2009-03-25  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result-dir.perl:
	エンティティ参照をそのまま出力するように.

2009-03-24  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* README: 複合名詞データベースに関する記述を追加

2009-03-24  Daisuke Kawahara  <dk@nict.go.jp>

	* README: Added a necessary perl module.

2009-03-22  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* perl/AddKNPResult.pm: remove_annotationオプションを追加

	* scripts/add-knp-result-dir.perl: -nologfileオプションを追加
	-remove_annotationオプションを追加

2009-03-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-anchor.perl:
	URLを抽出する際に正規化するように, プロトコル名も出力に含めるように

2009-02-23  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result-dir.perl, scripts/add-knp-result.perl:
	タイムアウト機能の追加(デフォルト60秒).

2009-01-30  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl:
	部分解析オプションの追加, URL中のエンティティを変換するようにした, アンカーテキスト内の制御文字を削除するようにした

	* scripts/add-knp-result-dir.perl:
	URL中のエンティティを変換するようにした, アンカーテキスト内の制御文字を削除するようにした

2009-01-28  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl, scripts/set-offset-and-length.perl, scripts/extract-rawstring.perl:
	LibXMLに与える前に、URL中の&をエンティティに変換するようにした.

2009-01-21  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/extract-rawstring.perl:
	Added an option to add S-ID heading.

2009-01-03  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-annotation.sh, scripts/add-knp-result-dir.perl:
	言語解析する場所をオプションで指定できるようにした．(指定がない場合は全てが解析対象)

2008-12-28  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm: 関数ProcessJapaneseをグローバルに変更

2008-12-10  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl, perl/TextExtractor.pm:
	段落IDを出力するようにした.

2008-11-26  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl: ヘッダー中のURLを取得する部分を修正.

2008-11-06  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/parse-comp.sh: KNPargをオプションで指定できるようにした(-k)

2008-10-20  Daisuke Kawahara  <dk@nict.go.jp>

	* www2sf.sh, usage:
	Created -z option for gzipped htmls.

2008-10-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm: 半角英数字間の空白がつまらないようにした.

2008-10-04  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/extract-sentences.perl:
	Modified to accept multiple html files.

	* scripts/read-zaodata.perl:
	Modified to output data to the current directory.

2008-09-29  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/format-www-xml.perl:
	Title, Description, Keywords要素に対してis_Japanese_Sentence属性を付与するようにした. S要素のLog属性を出力しないようにした.

2008-09-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2sf.sh: fileコマンドの出力が標準出力に出力されないようにした.

2008-09-16  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-annotation.sh:
	mkdirをする際、-pオプションを指定するようにした。

	* scripts/add-knp-result.perl:
	-recycle_knp, no_regist_adjective_stem オプションの追加.

2008-09-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2sf.sh: テキスト形式以外のファイルを処理しないようにした.

2008-09-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-annotation.sh:
	作業用ディレクトリ作成後にログファイルをtouchするようにした.

2008-09-08  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-annotation.sh: fixed typo.

2008-09-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl:
	ーの直後のハイフンも正規化されるようにした.

2008-09-03  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result-dir.perl, scripts/embed-annotation.sh:
	Out of memoryが発生した場合、自動的に処理を再開するようにした.
	ulimitで設定するメモリの上限を修正 (ulimitで設定できる値はKB単位のため).

	* scripts/embed-annotation.sh:
	-Nオプションの追加（add-knp-result-dir.perlの-no_regist_adjective_stemが指定される）
	解析ツールを指定するオプションを変数にまとめた.

	* scripts/add-knp-result-dir.perl:
	-no_regist_adjective_stemオプションの追加.

	* perl/AddKNPResult.pm:
	verboseが指定されたときのみ、「Too Long Sentence」を出力するようにした.

2008-09-02  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-anchor.perl:
	プロトコル名を削除, アンカーテキスト前後の空白を削除, アンカーテキスト中で２連続以上する空白を削除, CDB_Readerを使うようにした.

	* scripts/extract-outlinks.sh, scripts/make-anchor-db.perl, scripts/make-inlink-db.sh, scripts/make-inlinks-txt.sh, scripts/merge-linkdata.perl, scripts/merge-outlinks.sh, scripts/split-inlink-text.perl:
	リンクデータベース作成スクリプトを追加.

2008-08-13  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/extract-sentences.perl:
	Modified to work on English pages.

2008-08-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/AddKNPResult.pm:
	-recycle_knp指定時に、SynGraphのバージョンにunstableが入っていても、バージョン情報が更新されるようにした.

2008-08-07  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm, scripts/extract-sentences.perl:
	<BR>\n, <P>\n を一つの改行と見なすオプションを追加. (デフォルトはオフ)

	* scripts/extract-sentences-by-offset-and-length.perl:
	ファイル名を出力するようにした.

	* scripts/set-offset-and-length.perl:
	文中にHTMLタグが含まれている際に、オフセット値を誤るバグを修正.

2008-08-04  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl:
	euc-jpにないコードの変換処理を追加.

	* scripts/extract-sentences.perl:
	変換ツールのバージョン、変換日時、クロール日時を<StandardFormat>タグ内に記述するようにした.

2008-07-31  Daisuke Kawahara  <dk@nict.go.jp>

	* html2sf.sh, www2sf.sh:
	Added -U option (it is used when input is already utf8).

	* scripts/to_utf8.perl:
	Added -force option.

	* scripts/extract-sentences.perl, scripts/set-offset-and-length.perl:
	Modified the delimiter of HTTP header and body (thanks to Tadashi MORII <tadashi_morii@img-j.co.jp>).

2008-07-24  Daisuke Kawahara  <dk@nict.go.jp>

	* html2sf.sh:
	Modified for SynGraph annotation.

	* scripts/add-knp-result.perl:
	Follow jmncmd, knpcmd, Option, etc. in add-knp-result-dir.perl.

2008-07-22  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/add-knp-result.perl:
	Added the application of AddKnpResult to OutLink, InLink, Keywords and Description.
	Added --syndb_on_memory option.

	* perl/TextExtractor.pm:
	Transform utf8-unique codes to similar ones.

	* html2text.sh:
	Changed -s to -w.

	* scripts/add-knp-result-dir.perl:
	Fixed a bug of syngraph_option.

	* html2sf.sh:
	Made -m (usemodule) default.

	* www2sf.sh:
	Added -s (syngraph) option.

2008-06-25  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result-dir.perl:
	入力がgzip圧縮されたファイルの場合、自動的にzcatして読み込むようにした.

	* scripts/embed-annotation.sh:
	生成された標準フォーマットデータをgzipで圧縮する際、-fオプションを追加.
	使用できるメモリの上限値の修正.

2008-06-24  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-annotation.sh:
	使用できるメモリの上限を2GBに設定した.

	* scripts/embed-annotation.sh:
	SYNGRAPH解析だけをやり直すオプション(-R)を追加.
	作成された標準フォーマットデータを$workspace/finish以下に保存するようにした.
	標準フォーマットデータをgzipで圧縮してからtgzするようにした.

	* scripts/embed-annotation.sh:
	途中で停止した際、作業中のファイルを削除するようにした.

	* perl/AddKNPResult.pm, scripts/add-knp-result-dir.perl:
	標準フォーマット内のKNP解析結果を利用してSYNGRAPH解析を行うオプション(-recycle_knp)を追加.

2008-06-17  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/read-zaodata.perl:
	Append a newline before HTML tag when --splithtml is not used.

2008-05-24  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl:
	HTMLエンティティを含む文でlengthがズレないようにした.

2008-05-23  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl:
	bug fixed (HTML文書をパースする際にUTF8フラグを立てないように変更)

2008-05-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result-dir.perl:
	juman/knpのコマンドを直接指定するようにした.
	jumanrc/knprcをオプションでとるようにした. 
	KNPのオプションに-postprocessを追加.

2008-05-09  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl:
	HTML文書中のノーブレークスペース(x00A0)はスキップするように変更

2008-04-09  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl, perl/AddKNPResult.pm:
	解析する文の最大文字数を指定できるように

	* scripts/add-knp-result.perl: KNPのoptionを'-tab -dpnd'に変更

	* scripts/add-knp-result.perl: 主要部分をAddKNPResult.pmに移動

2008-04-07  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl:
	$resultが得られない場合は次の文にいくように変更

2008-04-01  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl: SynGraphの解析結果をうめこめるように修正

2008-03-31  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* html2sf.sh: コードを整理して、無駄を少し省いた

2008-03-24  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2sf.sh:
	utf8化されたウェブページの拡張子をxmlからhtmlへ変更．
	* scripts/rename-did.sh
	ウェブページ、utf8化されたウェブページについてもIDを振りなおすように修正．
	* perl/TextExtractor.pm
	metaタグ内のkeywords, descriptionから抽出された文を区別するように変更．
	* scripts/extract-sentences.perl
	metaタグ内のkeywords, descriptionから抽出された文を区別して標準フォーマットに埋め込むように変更．
	* scripts/set-offset-and-length.perl
	Keywords, Description関係の変更に対応．

2008-03-13  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl
	クローラの出力するヘッダー情報の取得に\rを利用するように変更．
	* html2sf.sh: 先頭でutf8に変換するように変更
	文字コードが推定できないなどの理由でutf8化されたウェブページが得られない場合は終了するようにした．

2008-03-11  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.sh: utf8ファイルを残すオプション(-u)を追加

	* perl/TextExtractor.pm:
	複合名詞をチェックする時に、ひらがな一文字の連結は複合名詞とみなさないように変更

2008-03-11  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm:
	複合名詞をチェックする時に、ひらがな一文字の連結は複合名詞とみなさないように変更

2008-03-03  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.sh: 複合名詞データベースを指定するオプションを追加

	* html2sf.sh: 先頭でutf8に変換するように変更
	複合名詞データベースを指定するオプションを追加

	* scripts/extract-sentences.perl:
	関数ProcessEncodingのオプションをforce_change_to_utf8_with_flagに変更

	* perl/HtmlGuessEncoding.pm:
	force_change_to_utf8_with_flagオプションを追加

	* scripts/to_utf8.perl: charsetをutf8に書き換えないように変更

2008-03-02  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl: verboseオプション追加

	* perl/TextExtractor.pm:
	複合名詞データベースをひいて、<a>タグの中のテキストを連結するかどうかを判定

	* scripts/extract-sentences.perl:
	助詞含有率が閾値以下の場合に、メッセージを出してexitするように変更

2008-02-25  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm:
	顔文字による文区切りを、句点による文区切りの直後に移動

2008-02-24  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl:
	複合名詞データベースの場所をTextExtractor.pmに渡すように修正

2008-02-18  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-syngraph.perl:
	準内容語を除いたものもノードとして登録するように変更
	(ネットワーク化 -> ネットワーク, 深み -> 深い)

2008-02-17  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl
	解析結果を埋め込み直すオプション-replaceを追加．

2008-02-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl
	XML::LibXMLのバージョンが古い場合に文字化けが発生するバグに対処．

2008-02-12  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/SentenceFormatter.pm:
	「＝」を括弧と同様に扱わないように変更

	* html2text.sh:
	extract-sentences.perlの出力文字コードがutf8になったことに対する対応

2008-02-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl:
	文字コードをutf8に変更．
	TextExtractor.pmを使うように変更．

	* perl/HtmlGuessEncoding.pm
	フラグ付きコードに変更するオプションを追加．

2008-02-10  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl:
	クローラーの出力するHTMLしか動作しなかったのを修正

2008-02-09  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2sf.sh
	オフセットのアライメントをとる処理を追加．

2007-02-06  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm
	HTMLエンティティを変更するようにした．
	title, description, keywords内は箇条書きとして見なさないように変更．
	クローラのヘッダを削除したときのために、オフセットのオフセットを考慮するように変更．
	文区切りとして見なすタグを追加．(<select>, <option>)
	<br>タグを文区切りではなく単なる改行として見なすように変更．
	0単体が削除されるバグを修正．

2007-02-06  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/set-offset-and-length.perl
	コードの整理（アライメントをとる部分を関数化するなど）

2007-02-06  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtractor.pm
	extract_textメソッドをタグを除く処理と文抽出処理にわけた．

2007-12-30  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/embed-syngraph.perl:
	文字コードの変更（euc-jp -> utf8）
	</S>, </Title>が出力されないバグを修正

2007-12-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/to_utf8.perl:
	utf8に変更するかどうかをオプション化．上書きオプションの追加．

2007-12-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/parse-comp.sh:
	名詞格フレームをデフォルトでひくように変更

2007-12-10  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* perl/SentenceExtractor.pm:
	箇条書き判定周辺のbug fix.

2007-12-10  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl:
	クローラの出力するヘッダーを無視するように変更．ページタイトルをHeader要素に書き出すように変更．

	* scripts/extract-rawstring.perl:
	Title要素から文を抽出するように変更

2007-12-06  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/Emoticon.pm, perl/Emoticon.dic: added.

	* perl/SentenceFormatter.pm: 顔文字対応

2007-12-03  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/SentenceFormatter.pm: Bug fix.

	* scripts/divide-parentheses.perl: added.

2007-12-01  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtor2.pm:
	空白が挿入されるバグを修正．A。(B)Cの時、A。(B)で文を区切るように変更．B-C間は、括弧の後に空白・改行がある場合区切るように変更．

	* perl/SentenceExtractor2.pm:
	括弧内の文を区切らないように変更．

2007-11-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtor2.pm:
	￣を〜へ変換するように変更(￣の前後に数字または数字+単位(1から2文字)が現れている場合に限り変更する)．

2007-11-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtor2.pm:
	￣を〜へ強制的に変換するように変更．

2007-11-12  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/SentenceFormatter.pm, scripts/format-www.perl, scripts/format-www-xml.perl:
	全体削除をせず、すべて保持するオプション(--save_all)を追加.

	* html2text.sh, html2sf.sh:
	Added "-s" (--save_all) option.

2007-11-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtor2.pm:
	箇条書き認識部分のコードを整理．

2007-11-09  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/TextExtor2.pm:
	文中で箇条書きが列挙されている場合は　を間に挟んで要素を連結するように変更．（文の外の場合は単独の文として認識される）

2007-11-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/SentenceExtractor2.pm:
	箇条書きの列挙中に文が分割されないように変更．

2007-11-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/SentenceExtractor2.pm:
	括弧の対応関係をまじめに考えるように変更．コメント追加．「！」の後に「です」がくる場合は、「！」で文を区切らないように変更．

2007-11-07  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/SentenceExtractor2.pm:
	アルファベットまたは数字の直後に．(ピリオド)がある場合は箇条書きとして見なすように変更．

2007-11-06  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/SentenceExtractor2.pm:
	””内の句点で文を区切らないように変更．

2007-11-05  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/SentenceFormatter.pm:
	--include_paren時にできるだけ全体削除しないように修正

2007-11-03  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/ConvertCode.pm: added.

	* perl/HtmlGuessEncoding.pm, scripts/extract-sentences.perl:
	Modified to use ConvertCode.pm.

	* perl/TextExtor2.pm:
	Applied NFKC normalization.

2007-11-02  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/SentenceFormatter.pm: added.

	* perl/SentenceFormatter.pm:
	Modified for other types of parenthesis.

	* scripts/format-www.perl:
	Use 'use encoding'
	Cut a module (SentenceFormatter.pm).

	* scripts/format-www-xml.perl:
	Use SentenceFormatter.pm.
	Added parenthesis processing.

	* html2sf.sh:
	Added "-P" option (enable "--divide_paren").

2007-10-26  Daisuke Kawahara  <dk@nict.go.jp>

	* html2text.sh:
	-fオプションのとき、日本語文フィルタをかまさないように修正

	* scripts/extract-sentences.perl:
	Movable Typeオプションのときにbanner-inner, content-nav, entry-footerなどを削除

2007-10-23  Daisuke Kawahara  <dk@nict.go.jp>

	* html2text.sh:
	括弧を別の文に分けるオプション(-P)を追加

	* scripts/format-www.perl:
	括弧を別の文に分けるオプション(--divide_paren)を追加

2007-09-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/to_utf8.perl:
	HTML文書の文字コードをutf8に変更するプログラムを追加 (metaタグにてcharset属性が指定されている場合は、その値をutf8に変更する)
	
2007-09-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* README
	必要なものにShiftJIS::CP932::MapUTFを追加.
	
2007-09-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/HtmlGuessEncoding.pm:
	shiftjisの機種依存文字で化けないようにShiftJIS::CP932::MapUTFモジュールを利用するように変更.
	
2007-07-14  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/parse-comp.sh:
	どのディレクトリでも実行できるように修正
	
2007-07-13  Daisuke Kawahara  <dk@nict.go.jp>

	* html2sf.sh, html2text.sh, www2sf.sh:
	どのディレクトリでも実行できるように修正

2007-07-05  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/format-www-xml.perl:
	XML-LibXML1.63での$doc->toString()の仕様変更に対応

	* scripts/embed-syngraph.perl:
	下位語数が $opt{hypocut} より大きければ、SYNノードをはりつけないようにした(デフォルト値:9)

2007-06-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.sh:
	10Mを越えるファイルは標準フォーマット化しないように変更

2007-06-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl:
	Titleタグ内のRawStringを解析するように変更

2007-06-05  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.sh:
	html2sf.shを呼ぶ際-aオプションを追加

2007-06-04  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl:
	XML-LibXML1.63での$doc->toString()の仕様変更に対応

2007-05-02  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/judge-encoding.perl:
	content-typeをcase insensitiveに修正

2007-05-01  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/read-zaodata.pl:
	shim-crawlerのフォーマット変更に対応
	日本語判定処理を行わないオプション--ignore-check-japaneseを追加

2007-04-13  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/parse-comp.sh:
	Removed "-check" from KNP arguments.

2007-04-04  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/judge-encoding.perl:
	added.

2007-03-06  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* perl/SentenceExtractor2.pm:
	文分解ルールの実装 (A♪B -> A♪/B，A・・・B -> A・・・/B，A…B -> A…/B，（A。B） -> （A。/B）)
	文結合ルールの実装 (A！とB，A？とB，A閉じ括弧とB，A！っB，A？っB，A閉じ括弧っB)

2007-03-06  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2sf.sh
	parse-comp.shのログを/dev/nullに出力するように変更.

2007-02-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2text.sh, html2sf.sh:
	Movable Typeのトラックバック、コメント、メニュー部分から文抽出を行わないオプション -B を追加.

2007-02-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl:
	トラックバック、コメント、メニュー部分を削除するオプションを追加（Movable Typeのみ対応）

2007-02-21  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/format-www.perl:
	include_parenオプション時に、括弧で始まる文などを削除しないように修正

	* html2text.sh:
	オプションを微修正

2007-02-21  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* html2text.sh:
	include_parenをinclude-parenに変更.

2007-02-15  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/TextExtor2.pm:
	<br>と<p>を無視するオプションに対応

	* perl/HtmlGuessEncoding.pm:
	例外的なcharsetの扱いを追加

	* scripts/extract-sentences.perl:
	<br>と<p>を無視するオプション(--ignore_br)を追加

	* scripts/format-www-xml.perl:
	括弧を保持するオプションを--include_parenに変更

	* html2sf.sh:
	オプション追加
	  -b: <br>と<p>を無視する
	  -p: 括弧を保持する
	  -f: エンコーディングを無視して変換する
	  -a: すべての文を解析する

2006-12-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl:
	解析結果の埋め込みを標準フォーマットに準拠するように変更.

2006-12-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* ../doc/standard_format.pdf:
	標準フォーマットマニュアルpdf版を追加.

2006-12-21  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/parse-comp.sh:
	KNPのオプションに-postprocessを付加。

2006-12-14  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/TextExtor2.pm:
	カタカナに後続するハイフンを「ー」に正規化

2006-12-13  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/TextExtor2.pm:
	改行コード、空白の扱いを精緻化

2006-12-12  Daisuke Kawahara  <dk@nict.go.jp>

	* perl/SentenceFilter.pm:
	日本語文字の正規表現に句読点がマッチしなかったのを修正

	* perl/SentenceExtractor2.pm:
	文切りの精度向上(数字など)

2006-11-26  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/format-www.perl, scripts/format-www-xml.perl:
	オプションによって括弧の部分削除を抑制できるように変更

	* perl/SentenceExtractor2.pm:
	文切りの精度向上

	* html2sf.sh, html2text.sh:
	オプションを変更

2006-11-01  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/ntcir2sf.sh:
	変換後の各ファイルを圧縮するオプション(-g)、変換したファイルをサブディレクトリを掘って置くオプション(-s)を追加
	全体削除なども含めて、すべての文を解析するように修正

2006-10-31  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/format-www-xml.perl, scripts/extract-rawstring.perl, scripts/add-knp-result.perl:
	遅いXML::DOMをやめて、いくぶん速いXML::LibXMLを使うように変更

	* scripts/ntcir2sf.sh:
	added.

2006-10-30  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/format-www-xml.perl, scripts/extract-rawstring.perl, scripts/add-knp-result.perl:
	「全体削除」しても、RawStringを消さないように変更
	「全体削除」された文(is_Japanese_Sentence==0)はデフォルト解析せず、--allオプション時に解析するように変更

2006-10-09  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/parse-comp.sh, scripts/cut-one-sentence.perl, scripts/check-article.perl:
	added.

	* html2sf.sh:
	modified to use parse-comp.sh.

2006-10-05  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/rename-all.sh:
	a small fix for ntcir data.

2006-09-30  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/extract-sentences.perl:
	added --checkencoding option.

2006-09-10  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/rename-all.sh:
	開始番号を与えられるように修正

2006-09-09  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/extract-sentences.perl:
	助詞含有率の閾値をオプションで指定可能にした

	* scripts/rename-all.sh:
	added.

2006-09-06  Daisuke Kawahara  <dk@nict.go.jp>

	* www2sf-tar.sh:
	rename-continuously.shを呼ぶようにした

	* scripts/extract-sentences.perl:
	read-zaodataが出力するURL情報を読み取るように修正

2006-09-04  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/rename-continuously.sh:
	h????, x????両方をrenameするように修正

2006-09-03  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/rename-continuously.sh:
	added.

2006-09-01  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/read-zaodata.sh:
	tar.gzで固めるのをやはりdefaultにした
	tar.gzで固めないオプション(-r)の追加

	* www2sf.sh, www2sf-tar.sh, html2sf.sh:
	slightly modified.

2006-08-31  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/read-zaodata.perl:
	offsetを指定できるようにした

	* scripts/read-zaodata.sh:
	offsetを-oで指定できるようにした
	tar.gzで固めるのをオプション(-t)にした

2006-08-31  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* www2sf-tar.sh: added.

	* scripts/read-zaodata.sh: added.

2006-08-29  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* www2sf.sh: xmlの出力が0の場合、削除するようにした

	* www2sf.sh: added.

	* html2sf.sh: 中間ファイルの名前の変更など

	* scripts/extract-sentences.perl:
	助詞含有率をチェックするオプションを追加

	* scripts/extract-sentences.perl, html2sf.sh:
	sentence-filter-xml.perlをモジュール化してextract-sentencesの中に入れることにより、若干高速化

	* perl/SentenceFilter.pm: added.

2006-08-28  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/read-zaodata.perl:
	renameする必要のないように、ファイル名を変更

	* scripts/read-zaodata.perl:
	ページ内の助詞含有率をチェックするオプションを追加

	* html2sf.sh: rmに-fオプションを追加

	* html2sf.sh:
	中間ファイルを出力して、Juman/KNPの解析結果を読めるように修正

	* scripts/extract-rawstring.perl: added.

	* scripts/add-knp-result.perl:
	Juman/KNP.pmを使わずに、解析結果を読んでxmlに挿入するように修正

	* scripts/add-knp-result.perl: RawStringが空の場合、nextするように

	* scripts/format-www-xml.perl: 全文削除の時はRawStringを空にするように修正

2006-08-24  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/extract-sentences.perl: process_encodingの部分にモジュールを利用

	* scripts/read-zaodata.perl: added.

	* scripts/add-knp-result.perl: Juman/KNP解析結果を挿入

	* scripts/read-sf.perl: added.

2006-08-23  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/add-knp-result.perl, scripts/extract-sentences.perl, scripts/format-www-xml.perl, scripts/format-www.perl, scripts/sentence-filter-xml.perl, scripts/sentence-filter.perl:
	New file.

	* scripts/add-knp-result.perl, scripts/extract-sentences.perl, scripts/format-www-xml.perl, scripts/format-www.perl, scripts/sentence-filter-xml.perl, scripts/sentence-filter.perl:
	imported.

